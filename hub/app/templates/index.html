{% extends "base.html" %}

{% block title %}WWC 2025 – Lab Hub{% endblock %}

{% block header_title %}WWC 2025 – Lab Hub{% endblock %}

{% block header_tagline %}
This hub controls all hands-on labs for the workshop. Starting a lab will stop any other running lab.
{% endblock %}

{% block content %}

<div class="controls">
  <button type="button" class="btn-danger" onclick="WWCHub.stopAllLabs()">
    Stop All Labs
  </button>

  <a class="btn" href="{{ url_for('hub.labs_page') }}">View Lab Status / Details</a>
  <a class="btn btn-primary" href="{{ url_for('hub.assessments_index') }}">Pre/Post Assessments</a>
</div>

<section class="grid">
  {% for lab in labs %}
    <div class="card">
      <h2>{{ lab.title }}</h2>

      {% if running_lab_id == lab.id %}
        <p style="color: var(--success); font-weight: 600; font-size: 13px; margin-top: 2px;">
          ● RUNNING
        </p>
      {% endif %}

      <p>{{ lab.description }}</p>

      <div class="card-actions">
        <button type="button" class="btn btn-primary"
                onclick="WWCHub.startLab('{{ lab.id }}', 'Starting {{ lab.title }}…', true)">
          Start &amp; Launch
        </button>

        <a class="link" href="{{ lab.launch_url }}" target="_blank" rel="noopener">
          Launch ↗
        </a>
      </div>

      <p style="margin-top: 6px; color: var(--muted); font-size: 13px;">
        Lab ID: <code>{{ lab.id }}</code>
      </p>
    </div>
  {% endfor %}
</section>

{% endblock %}
